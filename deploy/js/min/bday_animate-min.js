$(window).load(function(){function e(e,o){e.addEventListener?e.addEventListener("click",o,!1):(e.attachEvent("click",o),console.log("IE fallback .attachEvent. "))}function o(e){var o=e.target.id;0||(console.log("event targeted by "+o),$(u).velocity({translateY:["-125px","0px"]},{complete:function(){console.log(u.id+" complete animation step 1/2: move up out of view")}}),$.Velocity.RunSequence(v)),e.stopPropagation()}function t(e){var o=e.target.id;"blow_out"===e.target.id?(console.log("event targeted by "+o),$(a).velocity("stop",!0),console.log("flames staggering animation stopped"),$.Velocity.RunSequence(k),console.log("blow out animation sequence started")):"replay"===e.target.id&&(console.log("event targeted by "+o),window.location.reload()),e.stopPropagation()}console.log("window loaded");var n=document.getElementById("cake_obj"),l=n.contentDocument,a=l.querySelectorAll("svg .flame_group"),i=l.querySelectorAll("svg .smoke"),s=document.getElementById("balloons_obj"),c=s.contentDocument,p=c.getElementById("b_row"),r=function(){var e=c.getElementById("balloons_svg"),o=$(e).height();console.log("balloonSVG height = "+o);var t=$(e).width();return console.log("balloonSVG width = "+t),o>t?o/t*-500:-500}();console.log("min vertical distance for balloons to float = "+r);var m=document.getElementById("banner_obj"),d=m.contentDocument,u=d.getElementById("banner"),g=document.getElementById("overlay"),f=document.getElementById("underlay"),y=document.getElementById("blow_out"),b=document.getElementById("replay");$.Velocity.RegisterUI("smokeStroke",{defaultDuration:3e3,calls:[[{strokeDashoffset:["0","110"]},.4],[{strokeDashoffset:["-110","0"]},.6]]}),$.Velocity.RegisterUI("flameSmother",{defaultDuration:1e3,calls:[[{translateX:[4,0],translateY:[24,0],scale:[0,1]},1]]});var v=[{elements:g,properties:{opacity:[0,1]},options:{duration:1500,display:"none",complete:function(){console.log(g.id+" complete animation")}}},{elements:f,properties:"fadeIn",options:{duration:2e3,sequenceQueue:!1,complete:function(){console.log(f.id+" complete animation")}}},{elements:n,properties:{scale:[.5,1]},options:{duration:1500,complete:function(){console.log(n.id+" complete animation step 1/2")}}},{elements:n,properties:"reverse",options:{duration:1500,complete:function(){console.log(n.id+" complete animation step 2/2")}}},{elements:a,properties:{translateX:[.8,0],translateY:[4.8,0],scale:[.8,1]},options:{duration:1e3,loop:!0}},{elements:y,properties:"fadeIn",options:{duration:500,display:"block",delay:1e3,sequenceQueue:!1,complete:function(){console.log(y.id+" complete animation step 1/3: diplay:block")}}},{elements:y,properties:"callout.shake",options:{complete:function(){console.log(y.id+' complete animation step 2/3:"callout.shake"')}}}],k=[{elements:y,properties:"fadeOut",options:{duration:500,display:"none",complete:function(){console.log(y.id+" complete animation step 3/3: display:none")}}},{elements:a,properties:"flameSmother",options:{complete:function(){console.log(a[0]+" complete animation step 2/2: flameSmother")}}},{elements:i,properties:"smokeStroke",options:{complete:function(){console.log(i[0]+" complete animation smokeStroke")}}},{elements:u,properties:{translateY:["0px","-125px"]},options:{duration:2e3,complete:function(){console.log(u.id+" complete animation step 2/2: drop banner")}}},{elements:p,properties:{translateY:r},options:{duration:5e3,sequenceQueue:!1,complete:function(){console.log(p.id+" complete animation float balloons to top")}}},{elements:b,properties:"fadeIn",options:{duration:500,display:"block",complete:function(){console.log(b.id+" complete animation display:block")}}}];e(g,o),e(f,t)});